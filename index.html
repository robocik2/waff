<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blob Simulation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }
        canvas {
            display: block;
        }
    </style>
</head>
<body>
    <canvas id="blobCanvas"></canvas>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.19.0/matter.min.js"></script>
    <script>
        // Setup Matter.js
        const { Engine, Render, Runner, World, Bodies, Body, Events, Mouse, MouseConstraint } = Matter;

        // Create an engine
        const engine = Engine.create();
        const world = engine.world;

        // Get canvas element and set up rendering
        const canvas = document.getElementById('blobCanvas');
        const render = Render.create({
            canvas: canvas,
            engine: engine,
            options: {
                width: window.innerWidth,
                height: window.innerHeight,
                wireframes: false,
                background: '#f0f0f0'
            }
        });

        // Resize canvas on window resize
        window.addEventListener('resize', function() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            Render.lookAt(render, {
                min: { x: 0, y: 0 },
                max: { x: canvas.width, y: canvas.height }
            });
        });

        // Create soft bodies (blobs)
        function createBlob(x, y) {
            const blob = Bodies.circle(x, y, 100, {
                restitution: 0.9,
                friction: 0.1,
                render: {
                    fillStyle: '#FF6347'
                }
            });
            return blob;
        }

        // Create two blobs
        const blob1 = createBlob(300, 100);
        const blob2 = createBlob(500, 100);

        // Add blobs to the world
        World.add(world, [blob1, blob2]);

        // Add walls (screen borders)
        const walls = [
            Bodies.rectangle(window.innerWidth / 2, 0, window.innerWidth, 50, { isStatic: true }),  // Top wall
            Bodies.rectangle(window.innerWidth / 2, window.innerHeight, window.innerWidth, 50, { isStatic: true }),  // Bottom wall
            Bodies.rectangle(0, window.innerHeight / 2, 50, window.innerHeight, { isStatic: true }),  // Left wall
            Bodies.rectangle(window.innerWidth, window.innerHeight / 2, 50, window.innerHeight, { isStatic: true })   // Right wall
        ];

        World.add(world, walls);

        // Mouse interaction (blob collision with cursor)
        const mouse = Mouse.create(render.canvas);
        const mouseConstraint = MouseConstraint.create(engine, {
            mouse: mouse,
            constraint: {
                stiffness: 0.2,
                render: { visible: false }
            }
        });
        World.add(world, mouseConstraint);

        // Run the engine
        Engine.run(engine);
        Render.run(render);

        // Run the simulation
        const runner = Runner.create();
        Runner.run(runner, engine);
    </script>
</body>
</html>
